#:kivy 1.11.1

_ScreenManager:
    LoginScreen:
    SignupScreen:
    MenuScreen:
    TransactionScreen:

# txtipt_ means textinput_
# lbl_ means label_

<TextInput>:
    multiline: False
    focus: True
    halign: "center"
    write_tab: False

<Password@TextInput>
    password: True

<MyLabel@Label>
    bold: True
    font_size: 25

# In this the user will see the following options: Sign up, Log in, and a welcome.
# Sign up and Log in will be buttons to go to another screen.
# The welcome just a label telling some like instructions (?
<LoginScreen>
    # ids
    username: txtipt_username
    password: txtipt_pass

    # Root layout.
    BoxLayout:
        orientation: "vertical"

        # To display the name app and copyright
        BoxLayout:
            padding: 0
            spacing: 10
            size_hint_y: .05
                
            Label:
                id: name_app
                text_size: self.size
                pos_hint_y: None
                pos_y: 50
                font_size: 16
                text: "Bank Management System by Lusecita"
                halign: "justify"
            
            Label:
                font_size: 16
                text_size: self.size
                text: "CopyrightÂ© 2021 Lusecita Malvadita."
                halign: "right"

        # Layout for username and password entry.
        BoxLayout:
            orientation: "vertical"

            # To display the username entry data.
            BoxLayout:
                orientation: "vertical"
                padding: 50
                size_hint_y: .6

                MyLabel:
                    text: "Username:"
                TextInput:
                    id: txtipt_username
                    hint_text: "Type your username..."
            
            # To display password entry data.        
            BoxLayout:
                orientation: "vertical"
                padding: 50
                size_hint_y: .6
                #size_hint_y: .15   

                MyLabel: 
                    text: "Password:"
                    #size_hint_y: .1

                Password:
                    id: txtipt_pass
                    hint_text: "Type your password..."
                    on_text_validate: root.login()

        # Button login layout.
        BoxLayout:
            # Set the space to 40 between childs.
            spacing: 20
            # Set the distance between the border and childs to 40.
            padding: 20
            size_hint_y: None
            height: dp(75)

            Button:
                text: "Login"
                on_press: root.login()

            Button:
                text: "Sign Up"
                on_press: root.sign_up()
                
            
<SignupScreen>
    # Bind ids.
    username: txtipt_username
    password: txtipt_password

    # Root layout.
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Registration!"
            font_size: 36
            bold: True
            size_hint_y: .2

        # Layout for username entry.
        BoxLayout:
            id: username_entry
            padding: 20
            size_hint_y: .3

            Label:
                text: "Username:"
                id: username_entry

            TextInput:
                id: txtipt_username
                hint_text: "Type your new username..."
                size_hint_y: .4
                pos_hint: {"top": .75, "left": 1}


        # Layout for password entry
        BoxLayout:
            padding: 20
            size_hint_y: .3

            Label:
                text: "Password:"

            Password:
                id: txtipt_password
                hint_text: "Type your new password..."
                size_hint_y: .4
                pos_hint: txtipt_username.pos_hint

        # Layout for buttons
        BoxLayout:
           # Set the space to 40 between childs.
            spacing: 20
            # Set the distance between the border and childs to 40.
            padding: 20
            size_hint_y: None
            height: dp(75)

            Button:
                text: "Sign up!"
                on_press: root.add_new_user()

            Button:
                text: "Go back!"
                on_release: 
                    root.manager.current = "login"    

<MenuScreen>
    BoxLayout:
        Label:
            id: lbl_menu
            text: "Menu"

<TransactionScreen>
    Label:
        id: lbl_transaction
        text: "Transaction"